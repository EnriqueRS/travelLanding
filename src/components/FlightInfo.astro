---
import config from "../data/travel.config.json"

const flights = config.flights || []
const airlineLogos = new Map(Object.entries(config.airlineLogos || {}))
---

<section id="vuelos" class="container mx-auto px-4 py-12">
  <h2 class="text-2xl sm:text-3xl font-semibold mb-6">Vuelos</h2>
  <div class="grid md:grid-cols-1 gap-6">
    {
      flights.map((group) => (
        <div class="rounded-xl border border-slate-200 dark:border-slate-800 p-5 bg-white/60 dark:bg-slate-900/60 backdrop-blur">
          <h3 class="text-xl font-medium mb-4">{group.title}</h3>
          <div class="space-y-4">
            {group.segments.map((s) => (
              <article class="rounded-lg border border-slate-100 dark:border-slate-800 bg-white/80 dark:bg-slate-900/60 p-4 flex flex-col sm:flex-row sm:items-center gap-4">
                <div class="flex-1">
                  <div class="flex items-center justify-between gap-4">
                    <div>
                      <div class="font-semibold text-lg">{s.title}</div>
                      <div class="text-sm opacity-80">{s.detail}</div>
                    </div>
                    {s.note ? (
                      <span class="text-xs px-2 py-1 rounded-md bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200">
                        {s.note}
                      </span>
                    ) : null}
                  </div>

                  <div class="mt-3 text-xs text-slate-600 dark:text-slate-400 flex flex-wrap gap-4">
                    <span>
                      Duraci√≥n: <span class="font-medium">{s.duration}</span>
                    </span>
                    {s.terminal ? (
                      <span>
                        Terminal: <span class="font-medium">{s.terminal}</span>
                      </span>
                    ) : null}
                  </div>
                </div>

                <div class="w-40 shrink-0 flex flex-col items-end gap-1">
                  <div class="flex items-center gap-2">
                    {airlineLogos.get(s.company) ? (
                      <img
                        src={airlineLogos.get(s.company)}
                        alt={`${s.company} logo`}
                        class="h-10 w-auto bg-white rounded-sm p-2"
                        loading="lazy"
                      />
                    ) : null}
                    {/* <div class="text-sm font-medium">{s.company}</div> */}
                  </div>
                  <div class="text-xl font-semibold">{s.number}</div>
                  <div class="text-xs opacity-70">{s.plane}</div>
                  <div class="mt-2 text-xs px-2 py-1 rounded-full border border-slate-200 dark:border-slate-700">
                    {s.class}
                  </div>
                </div>
              </article>
            ))}
          </div>
        </div>
      ))
    }
  </div>
  <p class="mt-3 text-sm opacity-70">Hora en CEST</p>
  <hr class="my-5 border-slate-200 dark:border-slate-800" />
</section>
